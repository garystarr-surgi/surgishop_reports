{
 "name": "Items on Hold",
 "docstatus": 0,
 "report_name": "Items on Hold",
 "ref_doctype": "Quotation",
 "reference_report": null,
 "is_standard": "Yes",
 "module": "Selling",
 "report_type": "Query Report",
 "letter_head": "SurgiShop",
 "add_total_row": 0,
 "disabled": 0,
 "prepared_report": 0,
 "add_translate_data": 0,
 "timeout": 0,
 "query": "SELECT\r\n    qi.item_code AS \"Item Code:Link/Item:120\",\r\n    qi.qty AS \"Qty Reserved:Float:100\",\r\n    q.name AS \"Quotation ID:Link/Quotation:150\",\r\n    -- FETCH FULL NAME: Use COALESCE to display the full name, or the email if the name is blank\r\n    COALESCE(quote_user.full_name, q.owner) AS \"Quote Owner:Data:150\",\r\n    NULL AS \"Sales Order ID:Data:\",\r\n    NULL AS \"Order Owner:Data:\",\r\n    q.status AS \"Status:Select:100\",\r\n    q.transaction_date AS \"Date:Date:120\"\r\nFROM \r\n    `tabQuotation Item` qi\r\nINNER JOIN \r\n    `tabQuotation` q ON q.name = qi.parent\r\n-- NEW JOIN: Link Quote Owner (q.owner) to the User table (quote_user)\r\nLEFT JOIN \r\n    `tabUser` quote_user ON quote_user.name = q.owner\r\nWHERE \r\n    q.docstatus = 1\r\n    AND q.status NOT IN ('Lost', 'Cancelled')\r\n\r\nUNION ALL\r\n\r\nSELECT\r\n    soi.item_code AS \"Item Code:Link/Item:120\",\r\n    soi.qty AS \"Qty Reserved:Float:100\",\r\n    NULL AS \"Quotation ID:Data:\",\r\n    NULL AS \"Quote Owner:Data:\",\r\n    so.name AS \"Sales Order ID:Link/Sales Order:150\",\r\n    -- FETCH FULL NAME: Use COALESCE to display the full name, or the email if the name is blank\r\n    COALESCE(order_user.full_name, so.owner) AS \"Order Owner:Data:150\",\r\n    so.status AS \"Status:Select:100\",\r\n    so.transaction_date AS \"Date:Date:120\"\r\nFROM \r\n    `tabSales Order Item` soi\r\nINNER JOIN \r\n    `tabSales Order` so ON so.name = soi.parent\r\n-- NEW JOIN: Link Order Owner (so.owner) to the User table (order_user)\r\nLEFT JOIN \r\n    `tabUser` order_user ON order_user.name = so.owner\r\nWHERE \r\n    so.docstatus = 1\r\n    AND so.status NOT IN ('Closed', 'Cancelled', 'Completed')\r\nORDER BY \r\n    \"Date:Date:120\" DESC;",
 "report_script": null,
 "javascript": null,
 "json": null,
 "doctype": "Report",
 "filters": [],
 "roles": [
  {
   "name": "1n1rni52rf",
   "owner": "gary.starr@surgishop.com",
   "creation": "2025-11-26 08:11:08.330822",
   "modified": "2025-11-26 08:11:08.330822",
   "modified_by": "gary.starr@surgishop.com",
   "docstatus": 0,
   "idx": 1,
   "role": "Sales Manager",
   "parent": "Items on Hold",
   "parentfield": "roles",
   "parenttype": "Report",
   "doctype": "Has Role"
  },
  {
   "name": "1n1r0nu66i",
   "owner": "gary.starr@surgishop.com",
   "creation": "2025-11-26 08:11:08.330822",
   "modified": "2025-11-26 08:11:08.330822",
   "modified_by": "gary.starr@surgishop.com",
   "docstatus": 0,
   "idx": 2,
   "role": "Maintenance Manager",
   "parent": "Items on Hold",
   "parentfield": "roles",
   "parenttype": "Report",
   "doctype": "Has Role"
  },
  {
   "name": "1n1r985ksn",
   "owner": "gary.starr@surgishop.com",
   "creation": "2025-11-26 08:11:08.330822",
   "modified": "2025-11-26 08:11:08.330822",
   "modified_by": "gary.starr@surgishop.com",
   "docstatus": 0,
   "idx": 3,
   "role": "Maintenance User",
   "parent": "Items on Hold",
   "parentfield": "roles",
   "parenttype": "Report",
   "doctype": "Has Role"
  },
  {
   "name": "1n1rgpvop7",
   "owner": "gary.starr@surgishop.com",
   "creation": "2025-11-26 08:11:08.330822",
   "modified": "2025-11-26 08:11:08.330822",
   "modified_by": "gary.starr@surgishop.com",
   "docstatus": 0,
   "idx": 4,
   "role": "Sales User",
   "parent": "Items on Hold",
   "parentfield": "roles",
   "parenttype": "Report",
   "doctype": "Has Role"
  },
  {
   "name": "1n1rgetvov",
   "owner": "gary.starr@surgishop.com",
   "creation": "2025-11-26 08:11:08.330822",
   "modified": "2025-11-26 08:11:08.330822",
   "modified_by": "gary.starr@surgishop.com",
   "docstatus": 0,
   "idx": 5,
   "role": "Desk User",
   "parent": "Items on Hold",
   "parentfield": "roles",
   "parenttype": "Report",
   "doctype": "Has Role"
  }
 ],
 "columns": []
}