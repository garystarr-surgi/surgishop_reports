[
  {
    "name": "Customer Item Purchase History",
    "docstatus": 0,
    "report_name": "Customer Item Purchase History",
    "ref_doctype": "Sales Invoice",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Selling",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT \n    si.posting_date as \"Date\",\n    si.name as \"Invoice\",\n    sii.item_code as \"Item\",\n    sii.description as \"Description\",\n    sii.qty as \"Qty\",\n    sii.rate as \"Rate\",\n    sii.amount as \"Amount\"\nFROM `tabSales Invoice` si\nINNER JOIN `tabSales Invoice Item` sii ON si.name = sii.parent\nWHERE si.docstatus = 1\n    AND si.customer = %(customer)s\nORDER BY si.posting_date DESC",
    "report_script": null,
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "ck47ik6m5b",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-10-21 14:45:46.350152",
        "modified": "2025-12-08 11:25:14.156815",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "Customer",
        "fieldtype": "Link",
        "fieldname": "customer",
        "mandatory": 1,
        "wildcard_filter": 0,
        "options": "Customer",
        "default": null,
        "parent": "Customer Item Purchase History",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "ck47v2o04h",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-10-21 14:45:46.350152",
        "modified": "2025-12-08 11:25:14.156815",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Accounts Manager",
        "parent": "Customer Item Purchase History",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "ck47unos10",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-10-21 14:45:46.350152",
        "modified": "2025-12-08 11:25:14.156815",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Accounts User",
        "parent": "Customer Item Purchase History",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Daily EOD Sales Detail",
    "docstatus": 0,
    "report_name": "Daily EOD Sales Detail",
    "ref_doctype": "Sales Invoice",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Accounts",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "WITH invoice_items AS (\r\n    SELECT\r\n        si.customer,\r\n        si.name AS invoice,\r\n        si.grand_total,\r\n        sii.item_code,\r\n        sii.qty,\r\n        sii.idx AS line_sort,\r\n        LAG(si.name) OVER (ORDER BY si.name, sii.idx) AS prev_invoice\r\n    FROM\r\n        `tabSales Invoice` si\r\n    INNER JOIN\r\n        `tabSales Invoice Item` sii\r\n        ON sii.parent = si.name\r\n    WHERE\r\n        si.docstatus = 1\r\n        AND si.posting_date = %(posting_date)s\r\n)\r\n\r\n-- LINE 1: Daily Total\r\nSELECT\r\n    'Daily Total Sales' AS customer,\r\n    NULL AS invoice,\r\n    SUM(si.grand_total) AS total,\r\n    NULL AS item_code,\r\n    NULL AS qty,\r\n    0 AS sort_order,\r\n    NULL AS invoice_sort,\r\n    0 AS line_sort\r\nFROM\r\n    `tabSales Invoice` si\r\nWHERE\r\n    si.docstatus = 1\r\n    AND si.posting_date = %(posting_date)s\r\n\r\nUNION ALL\r\n\r\n-- DETAIL LINES\r\nSELECT\r\n    IF(prev_invoice = invoice, NULL, customer) AS customer,\r\n    IF(prev_invoice = invoice, NULL, invoice) AS invoice,\r\n    IF(prev_invoice = invoice, NULL, grand_total) AS total,\r\n    item_code,\r\n    qty,\r\n    1 AS sort_order,\r\n    invoice AS invoice_sort,\r\n    line_sort\r\nFROM\r\n    invoice_items\r\n\r\nORDER BY\r\n    sort_order,\r\n    invoice_sort,\r\n    line_sort;\r\n",
    "report_script": null,
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "378biiitso",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "Posting Date",
        "fieldtype": "Date",
        "fieldname": "posting_date",
        "mandatory": 0,
        "wildcard_filter": 0,
        "options": null,
        "default": "Today",
        "parent": "Daily EOD Sales Detail",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "f3mjr76kpr",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Accounts User",
        "parent": "Daily EOD Sales Detail",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "f3mjavp03n",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Accounts Manager",
        "parent": "Daily EOD Sales Detail",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "f3mjgon5hj",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Sales User",
        "parent": "Daily EOD Sales Detail",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "f3mj20ganp",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "System Manager",
        "parent": "Daily EOD Sales Detail",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "14f8q2879l",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Sales Manager",
        "parent": "Daily EOD Sales Detail",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "14f81ff3k2",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "role": "Sales Master Manager",
        "parent": "Daily EOD Sales Detail",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": [
      {
        "name": "f3mjfba2ae",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "fieldname": "customer",
        "label": "Customer",
        "fieldtype": "Data",
        "options": null,
        "width": 200,
        "parent": "Daily EOD Sales Detail",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "f3mj944quk",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "fieldname": "invoice",
        "label": "Invoice",
        "fieldtype": "Link",
        "options": "Sales Invoice",
        "width": 200,
        "parent": "Daily EOD Sales Detail",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "f3mjn7r3fe",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "fieldname": "total",
        "label": "Total",
        "fieldtype": "Currency",
        "options": null,
        "width": 120,
        "parent": "Daily EOD Sales Detail",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "f3mjvn8dui",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "fieldname": "item_code",
        "label": "Item",
        "fieldtype": "Link",
        "options": "Item",
        "width": 100,
        "parent": "Daily EOD Sales Detail",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "f3mjcj99qh",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 14:16:11.525461",
        "modified": "2025-12-17 15:12:07.223600",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "fieldname": "qty",
        "label": "Qty Sold",
        "fieldtype": "Float",
        "options": null,
        "width": 100,
        "parent": "Daily EOD Sales Detail",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      }
    ]
  },
  {
    "name": "Delivery Note Status",
    "docstatus": 0,
    "report_name": "Delivery Note Status",
    "ref_doctype": "Delivery Note",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Stock",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT\r\n    name as \"Delivery Note ID:Link/Delivery Note:200\",\r\n    customer_name as \"Customer Name:Data:150\",\r\n    posting_date as \"Posting Date:Date:120\",\r\n    status as \"Status:Data:80\",\r\n    creation as \"Created On:Datetime:160\"\r\nFROM\r\n    `tabDelivery Note`\r\nWHERE\r\n    (\r\n        DATE(creation) = DATE(NOW()) -- Today's Notes\r\n        OR DATE(creation) = DATE(DATE_SUB(NOW(), INTERVAL 1 DAY)) -- Yesterday's Notes\r\n    )\r\nORDER BY\r\n    creation DESC",
    "report_script": null,
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [],
    "roles": [
      {
        "name": "9pe3kvuvrf",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 09:09:49.133953",
        "modified": "2025-11-26 09:10:53.070345",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Sales User",
        "parent": "Delivery Note Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "9pe3kn58o6",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 09:09:49.133953",
        "modified": "2025-11-26 09:10:53.070345",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Accounts User",
        "parent": "Delivery Note Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "9pe3c5ln3j",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 09:09:49.133953",
        "modified": "2025-11-26 09:10:53.070345",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Stock User",
        "parent": "Delivery Note Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "9pe3anmrce",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 09:09:49.133953",
        "modified": "2025-11-26 09:10:53.070345",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "Delivery User",
        "parent": "Delivery Note Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "9pe35hdp8u",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 09:09:49.133953",
        "modified": "2025-11-26 09:10:53.070345",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Delivery Manager",
        "parent": "Delivery Note Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "9pe3d9l8iv",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 09:09:49.133953",
        "modified": "2025-11-26 09:10:53.070345",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "role": "Stock Manager",
        "parent": "Delivery Note Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Item Tracking Report",
    "docstatus": 0,
    "report_name": "Item Tracking Report",
    "ref_doctype": "Item",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Stock",
    "report_type": "Script Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": null,
    "report_script": "def execute(filters=None):\r\n    # ------------------------------\r\n    # Define Columns\r\n    # ------------------------------\r\n    columns = [\r\n        {\"fieldname\": \"row_type\", \"label\": \"Type\", \"fieldtype\": \"Data\", \"width\": 120},\r\n        {\"fieldname\": \"date\", \"label\": \"Date\", \"fieldtype\": \"Date\", \"width\": 100},\r\n        {\"fieldname\": \"document\", \"label\": \"Document\", \"fieldtype\": \"Data\", \"width\": 150},\r\n        {\"fieldname\": \"qty\", \"label\": \"Qty\", \"fieldtype\": \"Float\", \"width\": 80},\r\n        {\"fieldname\": \"party\", \"label\": \"Supplier/Customer\", \"fieldtype\": \"Data\", \"width\": 180},\r\n        {\"fieldname\": \"reference\", \"label\": \"Invoice/PO #\", \"fieldtype\": \"Data\", \"width\": 150},\r\n        {\"fieldname\": \"stock\", \"label\": \"Stock\", \"fieldtype\": \"Float\", \"width\": 80},\r\n        {\"fieldname\": \"on_quote\", \"label\": \"On Quote\", \"fieldtype\": \"Float\", \"width\": 80},\r\n        {\"fieldname\": \"on_so\", \"label\": \"On Sales Order\", \"fieldtype\": \"Float\", \"width\": 100},\r\n        {\"fieldname\": \"notes\", \"label\": \"Notes\", \"fieldtype\": \"Data\", \"width\": 200},\r\n    ]\r\n\r\n    data = []\r\n\r\n    # ------------------------------\r\n    # Helper function for empty rows\r\n    # ------------------------------\r\n    def empty_row():\r\n        return {\r\n            \"row_type\": \"\",\r\n            \"date\": \"\",\r\n            \"document\": \"\",\r\n            \"qty\": \"\",\r\n            \"party\": \"\",\r\n            \"reference\": \"\",\r\n            \"stock\": \"\",\r\n            \"on_quote\": \"\",\r\n            \"on_so\": \"\",\r\n            \"notes\": \"\"\r\n        }\r\n\r\n    # ------------------------------\r\n    # Validate filter\r\n    # ------------------------------\r\n    if not filters or not filters.get(\"item_code\"):\r\n        return columns, data\r\n\r\n    item_code = filters.get(\"item_code\")\r\n\r\n    item_data = frappe.db.sql(\r\n        \"SELECT item_code, item_name FROM `tabItem` WHERE item_code = %s\",\r\n        (item_code,),\r\n        as_dict=True\r\n    )\r\n\r\n    if not item_data:\r\n        return columns, data\r\n\r\n    item = item_data[0]\r\n\r\n    # ------------------------------\r\n    # Calculate stock / quote / SO\r\n    # ------------------------------\r\n    stock_qty = frappe.db.sql(\r\n        \"SELECT COALESCE(SUM(actual_qty),0) FROM `tabBin` WHERE item_code = %s\",\r\n        (item_code,)\r\n    )[0][0]\r\n\r\n    quote_qty = frappe.db.sql(\r\n        \"\"\"\r\n        SELECT COALESCE(SUM(qi.qty),0)\r\n        FROM `tabQuotation Item` qi\r\n        INNER JOIN `tabQuotation` q ON q.name = qi.parent\r\n        WHERE qi.item_code = %s AND q.docstatus = 0 AND q.status != 'Lost'\r\n        \"\"\",\r\n        (item_code,)\r\n    )[0][0]\r\n\r\n    so_qty = frappe.db.sql(\r\n        \"\"\"\r\n        SELECT COALESCE(SUM(soi.qty - soi.delivered_qty),0)\r\n        FROM `tabSales Order Item` soi\r\n        INNER JOIN `tabSales Order` so ON so.name = soi.parent\r\n        WHERE soi.item_code = %s\r\n          AND so.docstatus = 1\r\n          AND so.status NOT IN ('Completed','Closed')\r\n          AND soi.qty > soi.delivered_qty\r\n        \"\"\",\r\n        (item_code,)\r\n    )[0][0]\r\n\r\n    # ------------------------------\r\n    # ITEM HEADER ROW\r\n    # ------------------------------\r\n    row = empty_row()\r\n    row.update({\r\n        \"row_type\": f\"<b>ITEM: {item.item_code}</b>\",\r\n        \"document\": f\"<b>{item.item_name}</b>\",\r\n        \"stock\": stock_qty,\r\n        \"on_quote\": quote_qty,\r\n        \"on_so\": so_qty\r\n    })\r\n    data.append(row)\r\n\r\n    # Spacer\r\n    data.append(empty_row())\r\n\r\n    # ------------------------------\r\n    # INBOUND HISTORY\r\n    # ------------------------------\r\n    row = empty_row()\r\n    row[\"row_type\"] = \"<b>INBOUND HISTORY</b>\"\r\n    data.append(row)\r\n\r\n    inbound = frappe.db.sql(\r\n        \"\"\"\r\n        SELECT pr.name, pr.posting_date, pr.supplier, pri.qty, pri.purchase_order, pr.remarks\r\n        FROM `tabPurchase Receipt Item` pri\r\n        INNER JOIN `tabPurchase Receipt` pr ON pr.name = pri.parent\r\n        WHERE pri.item_code = %s AND pr.docstatus = 1\r\n        ORDER BY pr.posting_date DESC, pr.name DESC\r\n        \"\"\",\r\n        (item_code,),\r\n        as_dict=True\r\n    )\r\n\r\n    if inbound:\r\n        for r in inbound:\r\n            row = empty_row()\r\n            row.update({\r\n                \"row_type\": \"Inbound\",\r\n                \"date\": r.posting_date,\r\n                \"document\": f'<a href=\"/app/purchase-receipt/{r.name}\">{r.name}</a>',\r\n                \"qty\": r.qty,\r\n                \"party\": r.supplier,\r\n                \"reference\": r.purchase_order or \"\",\r\n                \"notes\": r.remarks or \"\"\r\n            })\r\n            data.append(row)\r\n    else:\r\n        row = empty_row()\r\n        row[\"row_type\"] = \"No inbound history\"\r\n        data.append(row)\r\n\r\n    # Spacer\r\n    data.append(empty_row())\r\n\r\n    # ------------------------------\r\n    # OUTBOUND HISTORY\r\n    # ------------------------------\r\n    row = empty_row()\r\n    row[\"row_type\"] = \"<b>OUTBOUND HISTORY</b>\"\r\n    data.append(row)\r\n\r\n    outbound = frappe.db.sql(\r\n        \"\"\"\r\n        SELECT dn.name, dn.posting_date, dn.customer, dni.qty,\r\n               dni.against_sales_invoice, dn.lr_no\r\n        FROM `tabDelivery Note Item` dni\r\n        INNER JOIN `tabDelivery Note` dn ON dn.name = dni.parent\r\n        WHERE dni.item_code = %s AND dn.docstatus = 1\r\n        ORDER BY dn.posting_date DESC, dn.name DESC\r\n        \"\"\",\r\n        (item_code,),\r\n        as_dict=True\r\n    )\r\n\r\n    if outbound:\r\n        for d in outbound:\r\n            row = empty_row()\r\n            row.update({\r\n                \"row_type\": \"Outbound\",\r\n                \"date\": d.posting_date,\r\n                \"document\": f'<a href=\"/app/delivery-note/{d.name}\">{d.name}</a>',\r\n                \"qty\": d.qty,\r\n                \"party\": d.customer,\r\n                \"reference\": d.against_sales_invoice or \"\",\r\n                \"notes\": d.lr_no or \"\"\r\n            })\r\n            data.append(row)\r\n    else:\r\n        row = empty_row()\r\n        row[\"row_type\"] = \"No outbound history\"\r\n        data.append(row)\r\n\r\n    return columns, data\r\n",
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "1f61jmv80b",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "Item ",
        "fieldtype": "Link",
        "fieldname": "item_code",
        "mandatory": 1,
        "wildcard_filter": 0,
        "options": "Item",
        "default": "1951B",
        "parent": "Item Tracking Report",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "1f61rj5h3u",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Desk User",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1f61qds4ev",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Stock Manager",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1f61gq41t4",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Item Manager",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1f61v8fm02",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "Manufacturing User",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1f615eliub",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Purchase User",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1f618k1u7k",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "role": "Accounts User",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1f610unp08",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 7,
        "role": "Stock User",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1f616cmvss",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 8,
        "role": "Maintenance User",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1f61iqn0oi",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 9,
        "role": "Sales User",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1f6184ic81",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 11:31:53.677278",
        "modified": "2025-12-18 11:54:53.961165",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 10,
        "role": "System Manager",
        "parent": "Item Tracking Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Items on Hold",
    "docstatus": 0,
    "report_name": "Items on Hold",
    "ref_doctype": "Quotation",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Selling",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT\r\n    qi.item_code AS \"Item Code:Link/Item:120\",\r\n    qi.qty AS \"Qty Reserved:Float:100\",\r\n    q.name AS \"Quotation ID:Link/Quotation:150\",\r\n    -- FETCH FULL NAME: Use COALESCE to display the full name, or the email if the name is blank\r\n    COALESCE(quote_user.full_name, q.owner) AS \"Quote Owner:Data:150\",\r\n    NULL AS \"Sales Order ID:Data:\",\r\n    NULL AS \"Order Owner:Data:\",\r\n    q.status AS \"Status:Select:100\",\r\n    q.transaction_date AS \"Date:Date:120\"\r\nFROM \r\n    `tabQuotation Item` qi\r\nINNER JOIN \r\n    `tabQuotation` q ON q.name = qi.parent\r\n-- NEW JOIN: Link Quote Owner (q.owner) to the User table (quote_user)\r\nLEFT JOIN \r\n    `tabUser` quote_user ON quote_user.name = q.owner\r\nWHERE \r\n    q.docstatus = 1\r\n    AND q.status NOT IN ('Lost', 'Cancelled')\r\n\r\nUNION ALL\r\n\r\nSELECT\r\n    soi.item_code AS \"Item Code:Link/Item:120\",\r\n    soi.qty AS \"Qty Reserved:Float:100\",\r\n    NULL AS \"Quotation ID:Data:\",\r\n    NULL AS \"Quote Owner:Data:\",\r\n    so.name AS \"Sales Order ID:Link/Sales Order:150\",\r\n    -- FETCH FULL NAME: Use COALESCE to display the full name, or the email if the name is blank\r\n    COALESCE(order_user.full_name, so.owner) AS \"Order Owner:Data:150\",\r\n    so.status AS \"Status:Select:100\",\r\n    so.transaction_date AS \"Date:Date:120\"\r\nFROM \r\n    `tabSales Order Item` soi\r\nINNER JOIN \r\n    `tabSales Order` so ON so.name = soi.parent\r\n-- NEW JOIN: Link Order Owner (so.owner) to the User table (order_user)\r\nLEFT JOIN \r\n    `tabUser` order_user ON order_user.name = so.owner\r\nWHERE \r\n    so.docstatus = 1\r\n    AND so.status NOT IN ('Closed', 'Cancelled', 'Completed')\r\nORDER BY \r\n    \"Date:Date:120\" DESC;",
    "report_script": null,
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [],
    "roles": [
      {
        "name": "1n1rni52rf",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 08:11:08.330822",
        "modified": "2025-11-26 08:11:08.330822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Sales Manager",
        "parent": "Items on Hold",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1n1r0nu66i",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 08:11:08.330822",
        "modified": "2025-11-26 08:11:08.330822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Maintenance Manager",
        "parent": "Items on Hold",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1n1r985ksn",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 08:11:08.330822",
        "modified": "2025-11-26 08:11:08.330822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Maintenance User",
        "parent": "Items on Hold",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1n1rgpvop7",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 08:11:08.330822",
        "modified": "2025-11-26 08:11:08.330822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "Sales User",
        "parent": "Items on Hold",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1n1rgetvov",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-11-26 08:11:08.330822",
        "modified": "2025-11-26 08:11:08.330822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Desk User",
        "parent": "Items on Hold",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Outbound Shipping Status Report",
    "docstatus": 0,
    "report_name": "Outbound Shipping Status Report",
    "ref_doctype": "Delivery Note",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Stock",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "WITH base_data AS (\r\n    SELECT\r\n        dn.name AS delivery_note,\r\n        dn.customer,\r\n        dn.shipping_rule,\r\n        dn.custom_custom_shipping AS billing,\r\n        dn.custom_customer_freight_acct,\r\n        COALESCE(so_rep.sales_person, '') AS sales_rep,\r\n        dn.custom_order_product_attributes AS notes,\r\n        dn.docstatus,\r\n        dn.posting_date,\r\n        ROW_NUMBER() OVER (\r\n            ORDER BY dn.posting_date DESC, dn.name DESC\r\n        ) AS row_num\r\n    FROM\r\n        `tabDelivery Note` dn\r\n\r\n    LEFT JOIN (\r\n        SELECT\r\n            so.name AS sales_order,\r\n            GROUP_CONCAT(DISTINCT st.sales_person SEPARATOR ', ') AS sales_person\r\n        FROM `tabSales Order` so\r\n        INNER JOIN `tabSales Team` st ON st.parent = so.name\r\n        GROUP BY so.name\r\n    ) so_rep\r\n        ON so_rep.sales_order = (\r\n            SELECT dni.against_sales_order\r\n            FROM `tabDelivery Note Item` dni\r\n            WHERE dni.parent = dn.name\r\n            LIMIT 1\r\n        )\r\n\r\n    WHERE\r\n        (%(from_date)s = '' OR %(from_date)s IS NULL OR dn.posting_date >= %(from_date)s)\r\n        AND (%(to_date)s = '' OR %(to_date)s IS NULL OR dn.posting_date <= %(to_date)s)\r\n)\r\n\r\nSELECT\r\n    -- Delivery Note (clickable, prefix removed)\r\n    CONCAT(\r\n        '<div style=\"text-align:left;background-color:',\r\n        CASE WHEN MOD(row_num,2)=0 THEN '#f2f2f2' ELSE 'white' END,\r\n        ';\">',\r\n        '<a href=\"/app/delivery-note/', delivery_note, '\">',\r\n        REPLACE(delivery_note, 'MAT-DN-', ''),\r\n        '</a></div>'\r\n    ) AS delivery_note,\r\n\r\n    -- Customer\r\n    CONCAT(\r\n        '<div style=\"text-align:left;background-color:',\r\n        CASE WHEN MOD(row_num,2)=0 THEN '#f2f2f2' ELSE 'white' END,\r\n        ';\">', customer, '</div>'\r\n    ) AS customer,\r\n\r\n    -- Shipping Speed\r\n    CONCAT(\r\n        '<div style=\"text-align:left;background-color:',\r\n        CASE WHEN MOD(row_num,2)=0 THEN '#f2f2f2' ELSE 'white' END,\r\n        ';\">', shipping_rule, '</div>'\r\n    ) AS speed,\r\n\r\n    -- Billing\r\n    CONCAT(\r\n        '<div style=\"text-align:left;background-color:',\r\n        CASE WHEN MOD(row_num,2)=0 THEN '#f2f2f2' ELSE 'white' END,\r\n        ';\">', billing, '</div>'\r\n    ) AS billing,\r\n\r\n    -- Freight Account\r\n    CONCAT(\r\n        '<div style=\"text-align:left;background-color:',\r\n        CASE WHEN MOD(row_num,2)=0 THEN '#f2f2f2' ELSE 'white' END,\r\n        ';\">', custom_customer_freight_acct, '</div>'\r\n    ) AS customer_freight_acct,\r\n\r\n    -- Sales Rep\r\n    CONCAT(\r\n        '<div style=\"text-align:left;background-color:',\r\n        CASE WHEN MOD(row_num,2)=0 THEN '#f2f2f2' ELSE 'white' END,\r\n        ';\">', sales_rep, '</div>'\r\n    ) AS sales_rep,\r\n\r\n    -- Notes\r\n    CONCAT(\r\n        '<div style=\"text-align:left;background-color:',\r\n        CASE WHEN MOD(row_num,2)=0 THEN '#f2f2f2' ELSE 'white' END,\r\n        ';\">', notes, '</div>'\r\n    ) AS notes,\r\n\r\n    -- Shipping Status Badge\r\n    CONCAT(\r\n        '<div style=\"background-color:',\r\n        CASE WHEN MOD(row_num,2)=0 THEN '#f2f2f2' ELSE 'white' END,\r\n        ';padding:2px;\">',\r\n        '<span style=\"display:inline-block;',\r\n        'padding:4px 10px;',\r\n        'border-radius:6px;',\r\n        'font-weight:bold;',\r\n        'color:',\r\n            CASE \r\n                WHEN docstatus = 0 THEN '#856404'\r\n                WHEN docstatus = 1 THEN '#155724'\r\n                ELSE '#721c24'\r\n            END,\r\n        ';background-color:',\r\n            CASE \r\n                WHEN docstatus = 0 THEN '#fff3cd'\r\n                WHEN docstatus = 1 THEN '#d4edda'\r\n                ELSE '#f8d7da'\r\n            END,\r\n        ';\">',\r\n            CASE \r\n                WHEN docstatus = 0 THEN 'Picking'\r\n                WHEN docstatus = 1 THEN 'Shipped'\r\n                ELSE 'Unknown'\r\n            END,\r\n        '</span></div>'\r\n    ) AS shipping_status\r\n\r\nFROM base_data\r\n\r\nORDER BY posting_date DESC, delivery_note DESC;\r\n",
    "report_script": "",
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "chqk38goo4",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "From Date",
        "fieldtype": "Date",
        "fieldname": "from_date",
        "mandatory": 0,
        "wildcard_filter": 0,
        "options": null,
        "default": "Today",
        "parent": "Outbound Shipping Status Report",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      },
      {
        "name": "chqkneov92",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "label": "To Date",
        "fieldtype": "Date",
        "fieldname": "to_date",
        "mandatory": 0,
        "wildcard_filter": 0,
        "options": null,
        "default": "Today",
        "parent": "Outbound Shipping Status Report",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "chqkfd5utn",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Sales User",
        "parent": "Outbound Shipping Status Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "chqkiipdvq",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Accounts User",
        "parent": "Outbound Shipping Status Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "chqkgrnh6o",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Stock User",
        "parent": "Outbound Shipping Status Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "chqkgflcf2",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "Delivery User",
        "parent": "Outbound Shipping Status Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "chqkqsnes8",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Delivery Manager",
        "parent": "Outbound Shipping Status Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "chqkojn7pr",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "role": "Stock Manager",
        "parent": "Outbound Shipping Status Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": [
      {
        "name": "chqk8j15o8",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "fieldname": "delivery_note",
        "label": "Delivery Note",
        "fieldtype": "Data",
        "options": "",
        "width": 150,
        "parent": "Outbound Shipping Status Report",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "chqkbt8i3q",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "fieldname": "customer",
        "label": "Customer",
        "fieldtype": "Data",
        "options": "",
        "width": 180,
        "parent": "Outbound Shipping Status Report",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "chqkfrta4h",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "fieldname": "shipping_rule",
        "label": "Speed",
        "fieldtype": "Data",
        "options": null,
        "width": 120,
        "parent": "Outbound Shipping Status Report",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "chqko26om5",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "fieldname": "custom_custom_shipping",
        "label": "Billing",
        "fieldtype": "Data",
        "options": null,
        "width": 120,
        "parent": "Outbound Shipping Status Report",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "chqkps39k0",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "fieldname": "custom_customer_freight_acct",
        "label": "Customer Freight Acct",
        "fieldtype": "Data",
        "options": null,
        "width": 175,
        "parent": "Outbound Shipping Status Report",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "fjn2tkikab",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "fieldname": "sales_rep",
        "label": "Sales Rep",
        "fieldtype": "Data",
        "options": null,
        "width": 150,
        "parent": "Outbound Shipping Status Report",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "chqkqrjov6",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 7,
        "fieldname": "custom_order_product_attributes",
        "label": "Notes",
        "fieldtype": "Data",
        "options": null,
        "width": 200,
        "parent": "Outbound Shipping Status Report",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "chqkl3q545",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 10:41:47.649989",
        "modified": "2025-12-18 11:13:59.809699",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 8,
        "fieldname": "shipping_status",
        "label": "Shipping Status",
        "fieldtype": "Data",
        "options": null,
        "width": 100,
        "parent": "Outbound Shipping Status Report",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      }
    ]
  },
  {
    "name": "Regional Dashboard",
    "docstatus": 0,
    "report_name": "Regional Dashboard",
    "ref_doctype": "Sales Person",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Selling",
    "report_type": "Script Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT \r\n    COALESCE(\r\n        t_manager.name,\r\n        t_direct.name,\r\n        'No Territory'\r\n    ) as territory,\r\n    sp.name as sales_person,\r\n    COALESCE(sales_data.total_sales, 0) as total_sales,\r\n    COALESCE(targets.sales_goal, 0) as sales_goal,\r\n    COALESCE(sil_data.current_sil, 0) as current_sil,\r\n    COALESCE(targets.sil_goal, 0) as sil_goal,\r\n    ROUND(\r\n        CASE \r\n            WHEN COALESCE(targets.sales_goal, 0) > 0 \r\n            THEN (COALESCE(sales_data.total_sales, 0) / targets.sales_goal * 100)\r\n            ELSE 0 \r\n        END, \r\n    2) as sales_goal_percent,\r\n    ROUND(\r\n        CASE \r\n            WHEN COALESCE(targets.sil_goal, 0) > 0 \r\n            THEN (COALESCE(sil_data.current_sil, 0) / targets.sil_goal * 100)\r\n            ELSE 0 \r\n        END,\r\n    2) as sil_goal_percent,\r\n    \r\n    -- NEW ACCOUNT COLUMNS\r\n    COALESCE(accounts.total_accounts, 0) as total_accounts,\r\n    COALESCE(accounts.active_accounts, 0) as active_accounts,\r\n    COALESCE(accounts.inactive_accounts, 0) as inactive_accounts,\r\n    COALESCE(accounts.growth_accounts, 0) as growth_accounts,\r\n    COALESCE(accounts.new_accounts, 0) as new_accounts\r\n\r\nFROM \r\n    `tabSales Person` sp\r\nLEFT JOIN `tabTerritory` t_direct ON t_direct.territory_manager = sp.name\r\nLEFT JOIN `tabTerritory` t_manager ON t_manager.territory_manager = sp.parent_sales_person\r\nLEFT JOIN (\r\n    SELECT \r\n        st.sales_person,\r\n        SUM(si.grand_total) as total_sales\r\n    FROM `tabSales Invoice` si\r\n    INNER JOIN `tabSales Team` st ON st.parent = si.name\r\n    WHERE si.docstatus = 1\r\n        AND (%(from_date)s = '' OR %(from_date)s IS NULL OR si.posting_date >= %(from_date)s)\r\n        AND (%(to_date)s = '' OR %(to_date)s IS NULL OR si.posting_date <= %(to_date)s)\r\n    GROUP BY st.sales_person\r\n) as sales_data ON sales_data.sales_person = sp.name\r\nLEFT JOIN (\r\n    SELECT \r\n        st.sales_person,\r\n        SUM(sii.amount) as current_sil\r\n    FROM `tabSales Invoice` si\r\n    INNER JOIN `tabSales Team` st ON st.parent = si.name\r\n    INNER JOIN `tabSales Invoice Item` sii ON sii.parent = si.name\r\n    INNER JOIN `tabItem` item ON item.name = sii.item_code\r\n    WHERE si.docstatus = 1\r\n        AND item.item_group = 'SIL'\r\n        AND (%(from_date)s = '' OR %(from_date)s IS NULL OR si.posting_date >= %(from_date)s)\r\n        AND (%(to_date)s = '' OR %(to_date)s IS NULL OR si.posting_date <= %(to_date)s)\r\n    GROUP BY st.sales_person\r\n) as sil_data ON sil_data.sales_person = sp.name\r\nLEFT JOIN (\r\n    SELECT \r\n        parent as sales_person,\r\n        SUM(CASE WHEN item_group = 'Products' THEN target_amount ELSE 0 END) as sales_goal,\r\n        SUM(CASE WHEN item_group = 'SIL' THEN target_amount ELSE 0 END) as sil_goal\r\n    FROM `tabTarget Detail`\r\n    GROUP BY parent\r\n) as targets ON targets.sales_person = sp.name\r\n\r\n-- FIXED: Account Analytics Join - Match on first and last name (ignore middle initial)\r\nLEFT JOIN (\r\n    SELECT \r\n        sp_inner.name as sales_person,\r\n        \r\n        -- Total Accounts\r\n        COUNT(DISTINCT c.name) as total_accounts,\r\n        \r\n        -- Active Accounts: Purchased in PRIOR calendar quarter\r\n        COUNT(DISTINCT CASE \r\n            WHEN EXISTS (\r\n                SELECT 1 \r\n                FROM `tabSales Invoice` si_prior\r\n                INNER JOIN `tabSales Team` st_prior ON st_prior.parent = si_prior.name\r\n                WHERE si_prior.customer = c.name\r\n                    AND st_prior.sales_person = sp_inner.name\r\n                    AND si_prior.docstatus = 1\r\n                    AND si_prior.posting_date >= CASE \r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 1 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())) - 1, '-10-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 2 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-01-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 3 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-04-01')\r\n                        ELSE CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-07-01')\r\n                    END\r\n                    AND si_prior.posting_date < CASE \r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 1 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-01-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 2 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-04-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 3 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-07-01')\r\n                        ELSE CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-10-01')\r\n                    END\r\n            ) THEN c.name \r\n        END) as active_accounts,\r\n        \r\n        -- Inactive Accounts\r\n        COUNT(DISTINCT CASE \r\n            WHEN NOT EXISTS (\r\n                SELECT 1 \r\n                FROM `tabSales Invoice` si_prior\r\n                INNER JOIN `tabSales Team` st_prior ON st_prior.parent = si_prior.name\r\n                WHERE si_prior.customer = c.name\r\n                    AND st_prior.sales_person = sp_inner.name\r\n                    AND si_prior.docstatus = 1\r\n                    AND si_prior.posting_date >= CASE \r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 1 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())) - 1, '-10-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 2 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-01-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 3 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-04-01')\r\n                        ELSE CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-07-01')\r\n                    END\r\n                    AND si_prior.posting_date < CASE \r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 1 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-01-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 2 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-04-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 3 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-07-01')\r\n                        ELSE CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-10-01')\r\n                    END\r\n            ) THEN c.name \r\n        END) as inactive_accounts,\r\n        \r\n        -- Growth Accounts\r\n        COUNT(DISTINCT CASE \r\n            WHEN NOT EXISTS (\r\n                SELECT 1 \r\n                FROM `tabSales Invoice` si_prior\r\n                INNER JOIN `tabSales Team` st_prior ON st_prior.parent = si_prior.name\r\n                WHERE si_prior.customer = c.name\r\n                    AND st_prior.sales_person = sp_inner.name\r\n                    AND si_prior.docstatus = 1\r\n                    AND si_prior.posting_date >= CASE \r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 1 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())) - 1, '-10-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 2 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-01-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 3 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-04-01')\r\n                        ELSE CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-07-01')\r\n                    END\r\n                    AND si_prior.posting_date < CASE \r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 1 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-01-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 2 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-04-01')\r\n                        WHEN QUARTER(COALESCE(%(from_date)s, CURDATE())) = 3 \r\n                        THEN CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-07-01')\r\n                        ELSE CONCAT(YEAR(COALESCE(%(from_date)s, CURDATE())), '-10-01')\r\n                    END\r\n            )\r\n            AND EXISTS (\r\n                SELECT 1 \r\n                FROM `tabSales Invoice` si_current\r\n                INNER JOIN `tabSales Team` st_current ON st_current.parent = si_current.name\r\n                WHERE si_current.customer = c.name\r\n                    AND st_current.sales_person = sp_inner.name\r\n                    AND si_current.docstatus = 1\r\n                    AND (%(from_date)s = '' OR %(from_date)s IS NULL OR si_current.posting_date >= %(from_date)s)\r\n                    AND (%(to_date)s = '' OR %(to_date)s IS NULL OR si_current.posting_date <= %(to_date)s)\r\n            ) THEN c.name \r\n        END) as growth_accounts,\r\n        \r\n        -- New Accounts\r\n        COUNT(DISTINCT CASE \r\n            WHEN c.creation >= COALESCE(%(from_date)s, CURDATE())\r\n            AND c.creation <= COALESCE(%(to_date)s, CURDATE())\r\n            THEN c.name \r\n        END) as new_accounts\r\n        \r\n    FROM `tabSales Person` sp_inner\r\n    LEFT JOIN `tabUser` u ON (\r\n        -- Match first and last name, ignoring middle initial\r\n        CONCAT(SUBSTRING_INDEX(u.full_name, ' ', 1), ' ', SUBSTRING_INDEX(u.full_name, ' ', -1))\r\n        = CONCAT(SUBSTRING_INDEX(sp_inner.name, ' ', 1), ' ', SUBSTRING_INDEX(sp_inner.name, ' ', -1))\r\n    )\r\n    INNER JOIN `tabCustomer` c ON c.account_manager = u.email\r\n    WHERE sp_inner.enabled = 1\r\n    GROUP BY sp_inner.name\r\n) as accounts ON accounts.sales_person = sp.name\r\n\r\nWHERE \r\n    sp.enabled = 1\r\n    AND sp.name != 'Sales Team'\r\nORDER BY \r\n    sp.name",
    "report_script": "def flt(val):\n    try:\n        return float(val or 0)\n    except Exception:\n        return 0.0\n\n\ndef execute(filters=None):\n    if not filters:\n        filters = {}\n    columns = get_columns()\n    data = get_data(filters) or []\n    return columns, data\n\n\ndef get_columns():\n    return [\n        {\"fieldname\": \"sales_person\", \"label\": \"REP\", \"fieldtype\": \"Link\", \"options\": \"Sales Person\", \"width\": 180},\n        {\"fieldname\": \"total_sales\", \"label\": \"Current Account Rev\", \"fieldtype\": \"Currency\", \"width\": 150},\n        {\"fieldname\": \"sales_goal\", \"label\": \"Account Goal\", \"fieldtype\": \"Currency\", \"width\": 130},\n        {\"fieldname\": \"current_sil\", \"label\": \"Current SIL\", \"fieldtype\": \"Currency\", \"width\": 130},\n        {\"fieldname\": \"sil_goal\", \"label\": \"Goal SIL\", \"fieldtype\": \"Currency\", \"width\": 130},\n        {\"fieldname\": \"sales_goal_percent\", \"label\": \"REV Goal\", \"fieldtype\": \"Data\", \"width\": 120},\n        {\"fieldname\": \"sil_goal_percent\", \"label\": \"SIL Goal\", \"fieldtype\": \"Data\", \"width\": 120},\n    ]\n\n\ndef get_data(filters):\n    sales_persons = frappe.get_all(\n        \"Sales Person\",\n        filters={\"enabled\": 1},\n        fields=[\"name\"],\n        order_by=\"name asc\",\n    )\n\n    if not sales_persons:\n        return []\n\n    data = []\n    for sp in sales_persons:\n        sales_person_name = sp.get(\"name\") if isinstance(sp, dict) else getattr(sp, \"name\", sp)\n\n        targets_query = (\n            \"SELECT\\\\n\"\n            \"    SUM(CASE WHEN item_group = 'Products' THEN target_amount ELSE 0 END) as sales_goal,\\\\n\"\n            \"    SUM(CASE WHEN item_group = 'SIL' THEN target_amount ELSE 0 END) as sil_goal\\\\n\"\n            \"FROM `tabTarget Detail`\\\\n\"\n            \"WHERE parent = %(sales_person)s\"\n        )\n        targets = frappe.db.sql(targets_query, {\"sales_person\": sales_person_name}, as_dict=1)\n\n        sales_goal = flt(targets[0].get(\"sales_goal\")) if targets else 0\n        sil_goal = flt(targets[0].get(\"sil_goal\")) if targets else 0\n\n        total_sales = get_sales_for_person(sales_person_name, filters)\n        current_sil = get_sil_sales_for_person(sales_person_name, filters)\n\n        sales_goal_percent = f\"{round((flt(total_sales) / flt(sales_goal) * 100), 2)}%\" if sales_goal > 0 else \"0%\"\n        sil_goal_percent = f\"{round((flt(current_sil) / flt(sil_goal) * 100), 2)}%\" if sil_goal > 0 else \"0%\"\n\n        data.append(\n            {\n                \"sales_person\": sales_person_name,\n                \"total_sales\": total_sales,\n                \"sales_goal\": sales_goal,\n                \"current_sil\": current_sil,\n                \"sil_goal\": sil_goal,\n                \"sales_goal_percent\": sales_goal_percent,\n                \"sil_goal_percent\": sil_goal_percent,\n            }\n        )\n\n    return data\n\n\ndef get_sales_for_person(sales_person, filters):\n    conditions = []\n    values = {\"sales_person\": sales_person}\n\n    if filters.get(\"from_date\"):\n        conditions.append(\"si.posting_date >= %(from_date)s\")\n        values[\"from_date\"] = filters.get(\"from_date\")\n\n    if filters.get(\"to_date\"):\n        conditions.append(\"si.posting_date <= %(to_date)s\")\n        values[\"to_date\"] = filters.get(\"to_date\")\n\n    where_clause = (\"AND \" + \" AND \".join(conditions)) if conditions else \"\"\n\n    sales_query = (\n        \"SELECT SUM(si.grand_total) as total\\\\n\"\n        \"FROM `tabSales Invoice` si\\\\n\"\n        \"INNER JOIN `tabSales Team` st ON st.parent = si.name\\\\n\"\n        \"WHERE si.docstatus = 1\\\\n\"\n        \"    AND st.sales_person = %(sales_person)s\\\\n\"\n        + (where_clause + \"\\\\n\" if where_clause else \"\")\n    )\n    result = frappe.db.sql(sales_query, values, as_dict=1)\n\n    return flt(result[0].get(\"total\")) if result else 0\n\n\ndef get_sil_sales_for_person(sales_person, filters):\n    conditions = []\n    values = {\"sales_person\": sales_person}\n\n    if filters.get(\"from_date\"):\n        conditions.append(\"si.posting_date >= %(from_date)s\")\n        values[\"from_date\"] = filters.get(\"from_date\")\n\n    if filters.get(\"to_date\"):\n        conditions.append(\"si.posting_date <= %(to_date)s\")\n        values[\"to_date\"] = filters.get(\"to_date\")\n\n    where_clause = (\"AND \" + \" AND \".join(conditions)) if conditions else \"\"\n\n    sil_query = (\n        \"SELECT SUM(sii.amount) as total\\\\n\"\n        \"FROM `tabSales Invoice` si\\\\n\"\n        \"INNER JOIN `tabSales Team` st ON st.parent = si.name\\\\n\"\n        \"INNER JOIN `tabSales Invoice Item` sii ON sii.parent = si.name\\\\n\"\n        \"INNER JOIN `tabItem` item ON item.name = sii.item_code\\\\n\"\n        \"WHERE si.docstatus = 1\\\\n\"\n        \"    AND st.sales_person = %(sales_person)s\\\\n\"\n        \"    AND item.item_group = 'SIL'\\\\n\"\n        + (where_clause + \"\\\\n\" if where_clause else \"\")\n    )\n    result = frappe.db.sql(sil_query, values, as_dict=1)\n\n    return flt(result[0].get(\"total\")) if result else 0",
    "javascript": "",
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "fikd5ot97d",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "From Date",
        "fieldtype": "Date",
        "fieldname": "from_date",
        "mandatory": 0,
        "wildcard_filter": 0,
        "options": null,
        "default": "Today",
        "parent": "Regional Dashboard",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      },
      {
        "name": "fikdgvp4b2",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "label": "To Date",
        "fieldtype": "Date",
        "fieldname": "to_date",
        "mandatory": 0,
        "wildcard_filter": 0,
        "options": null,
        "default": "Today",
        "parent": "Regional Dashboard",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "fikda4e29i",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Sales User",
        "parent": "Regional Dashboard",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "fikd6h1g2l",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Sales Manager",
        "parent": "Regional Dashboard",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "fikd1qppjs",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Sales Master Manager",
        "parent": "Regional Dashboard",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": [
      {
        "name": "8ruhafot16",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "fieldname": "territory",
        "label": "Territory",
        "fieldtype": "Link",
        "options": "Territory",
        "width": 100,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "fikd72nb39",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "fieldname": "sales_person",
        "label": "REP",
        "fieldtype": "Link",
        "options": "Sales Person",
        "width": 180,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "fikdasitdt",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "fieldname": "total_sales",
        "label": "Current Account Rev",
        "fieldtype": "Currency",
        "options": null,
        "width": 150,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "fikdglbhii",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "fieldname": "sales_goal",
        "label": "Account Goal",
        "fieldtype": "Currency",
        "options": null,
        "width": 150,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "fikdpo992i",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "fieldname": "current_sil",
        "label": "Current SIL",
        "fieldtype": "Currency",
        "options": null,
        "width": 150,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "fikdvk59ve",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "fieldname": "sil_goal",
        "label": "Goal SIL",
        "fieldtype": "Currency",
        "options": null,
        "width": 150,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "fikdoibh3b",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 7,
        "fieldname": "sales_goal_percent",
        "label": "REV Goal",
        "fieldtype": "Data",
        "options": null,
        "width": 100,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "fikdkv0vra",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 8,
        "fieldname": "sil_goal_percent",
        "label": "SIL Goal",
        "fieldtype": "Data",
        "options": null,
        "width": 100,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "4jtadmu83s",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 9,
        "fieldname": "total_accounts",
        "label": "Accounts",
        "fieldtype": "Int",
        "options": null,
        "width": 100,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "4jtakpv4j9",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 10,
        "fieldname": "active_accounts",
        "label": "Active Accounts",
        "fieldtype": "Int",
        "options": null,
        "width": 100,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "4jtadle02k",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 11,
        "fieldname": "inactive_accounts",
        "label": "Inactive Accounts",
        "fieldtype": "Int",
        "options": null,
        "width": 100,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "4jta9l33a4",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 12,
        "fieldname": "growth_accounts",
        "label": "Growth Accounts",
        "fieldtype": "Int",
        "options": null,
        "width": 100,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      },
      {
        "name": "4jtaka22is",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 08:53:56.571241",
        "modified": "2025-12-19 08:37:58.716106",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 13,
        "fieldname": "new_accounts",
        "label": "New Accounts",
        "fieldtype": "Int",
        "options": null,
        "width": 100,
        "parent": "Regional Dashboard",
        "parentfield": "columns",
        "parenttype": "Report",
        "doctype": "Report Column"
      }
    ]
  },
  {
    "name": "Products by Specialty",
    "docstatus": 0,
    "report_name": "Products by Specialty",
    "ref_doctype": "Item",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Stock",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT \r\n    item.item_code as \"Item:Link/Item:150\",\r\n    item.description as \"Description:Data:700\",\r\n    ip.price_list_rate as \"Rate:Currency:120\"\r\nFROM \r\n    `tabItem` item\r\nLEFT JOIN \r\n    `tabItem Price` ip ON item.item_code = ip.item_code\r\nWHERE \r\n    item.disabled = 0\r\n    AND (item.custom_item_category = %(custom_item_category)s OR %(custom_item_category)s IS NULL)\r\n    AND ip.price_list = 'Standard Selling'",
    "report_script": null,
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "a2uoj2aopc",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "Specialty",
        "fieldtype": "Select",
        "fieldname": "custom_item_category",
        "mandatory": 1,
        "wildcard_filter": 0,
        "options": "Hemostat / Wound Care\nVascular\nENT\nOrthopedic\nEndomechanical\nSpecialty\nGYN/Urology\nMesh\nSpine / Neurology\nRobotics\nOrthopedicSpine / NeurologyEndomechnical\nOrthopedicSpine / Neurology\nMechEndomechanical\nHemostat / Wound CareSpine / Neurology\nHemostat / Wound CareOrthopedicSpine /Neurology\nGYN/Urology Mesh\nGYN/UrologyEndomechnical\nENT Vascular",
        "default": null,
        "parent": "Products by Specialty",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "a2uo4piov7",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Desk User",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "a2uo3pjdq9",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Stock Manager",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "a2uog191bv",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Item Manager",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "a2uou63m3r",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "Manufacturing User",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "a2uo8jrju6",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Purchase User",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "a2uomt95lo",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "role": "Accounts User",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "a2uoisq96j",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 7,
        "role": "Stock User",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "a2uopb4vjt",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 8,
        "role": "Maintenance User",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "a2uoup1ik8",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 9,
        "role": "Sales User",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "a2uoet9omf",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 10,
        "role": "System Manager",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "06kfeft8k8",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 11,
        "role": "Sales Manager",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "06kfg8jdqu",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-19 11:45:35.256879",
        "modified": "2025-12-19 11:51:51.937416",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 12,
        "role": "Sales Master Manager",
        "parent": "Products by Specialty",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Shipped Batch Expiry Report",
    "docstatus": 0,
    "report_name": "Shipped Batch Expiry Report",
    "ref_doctype": "Delivery Note",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Accounts",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT\r\n    dn.posting_date AS \"Date:Date:120\",\r\n    dn.name AS \"Delivery Note:Link/Delivery Note:180\",\r\n    sii.parent AS \"Invoice:Link/Sales Invoice:180\",\r\n    dni.item_code AS \"Item Code:Link/Item:150\",\r\n    sled.batch_no AS \"Batch #:Link/Batch:150\",\r\n    b.expiry_date AS \"Expiry:Date:120\"\r\nFROM\r\n    `tabDelivery Note` dn\r\nJOIN\r\n    `tabDelivery Note Item` dni ON dn.name = dni.parent\r\n/* Join the Bundle to get the individual Batches */\r\nJOIN\r\n    `tabSerial and Batch Entry` sled ON dni.serial_and_batch_bundle = sled.parent\r\nLEFT JOIN\r\n    `tabBatch` b ON sled.batch_no = b.name\r\nLEFT JOIN\r\n    `tabSales Invoice Item` sii ON sii.delivery_note = dn.name \r\n    AND sii.item_code = dni.item_code\r\nWHERE\r\n    dn.docstatus = 1\r\n    AND dn.posting_date BETWEEN %(from_date)s AND %(to_date)s\r\n\r\nORDER BY\r\n    dn.posting_date DESC",
    "report_script": null,
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "4du4r1lq2h",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 15:28:16.429468",
        "modified": "2025-12-17 16:18:53.004613",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "From Date",
        "fieldtype": "Date",
        "fieldname": "from_date",
        "mandatory": 1,
        "wildcard_filter": 0,
        "options": null,
        "default": "Today",
        "parent": "Shipped Batch Expiry Report",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      },
      {
        "name": "4du4muq9kb",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 15:28:16.429468",
        "modified": "2025-12-17 16:18:53.004613",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "label": "To Date",
        "fieldtype": "Date",
        "fieldname": "to_date",
        "mandatory": 1,
        "wildcard_filter": 0,
        "options": null,
        "default": "Today",
        "parent": "Shipped Batch Expiry Report",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "4du4opp7qe",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 15:28:16.429468",
        "modified": "2025-12-17 16:18:53.004613",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Accounts User",
        "parent": "Shipped Batch Expiry Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "4du462q5jk",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 15:28:16.429468",
        "modified": "2025-12-17 16:18:53.004613",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Accounts Manager",
        "parent": "Shipped Batch Expiry Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "4du4032r4q",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 15:28:16.429468",
        "modified": "2025-12-17 16:18:53.004613",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Stock User",
        "parent": "Shipped Batch Expiry Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "4du45tcf9g",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 15:28:16.429468",
        "modified": "2025-12-17 16:18:53.004613",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "Stock Manager",
        "parent": "Shipped Batch Expiry Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "4du4puaano",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 15:28:16.429468",
        "modified": "2025-12-17 16:18:53.004613",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Sales User",
        "parent": "Shipped Batch Expiry Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "4du4d5kd6f",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-17 15:28:16.429468",
        "modified": "2025-12-17 16:18:53.004613",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "role": "System Manager",
        "parent": "Shipped Batch Expiry Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Sent Sales Invoices",
    "docstatus": 0,
    "report_name": "Sent Sales Invoices",
    "ref_doctype": "Sales Invoice",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Accounts",
    "report_type": "Script Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": null,
    "report_script": "\"\"\"\r\nReport: Auto-Sent Sales Invoices\r\nType: Script Report\r\n\r\nThis report shows all sales invoices that were automatically sent via email,\r\nwith filters for date range and sending status.\r\n\"\"\"\r\n\r\ndef execute(filters=None):\r\n    columns = get_columns()\r\n    data = get_data(filters)\r\n    return columns, data\r\n\r\ndef get_columns():\r\n    \"\"\"Define the columns for the report\"\"\"\r\n    return [\r\n        {\r\n            \"fieldname\": \"name\",\r\n            \"label\": \"Invoice Number\",\r\n            \"fieldtype\": \"Link\",\r\n            \"options\": \"Sales Invoice\",\r\n            \"width\": 150\r\n        },\r\n        {\r\n            \"fieldname\": \"posting_date\",\r\n            \"label\": \"Invoice Date\",\r\n            \"fieldtype\": \"Date\",\r\n            \"width\": 100\r\n        },\r\n        {\r\n            \"fieldname\": \"customer\",\r\n            \"label\": \"Customer\",\r\n            \"fieldtype\": \"Link\",\r\n            \"options\": \"Customer\",\r\n            \"width\": 180\r\n        },\r\n        {\r\n            \"fieldname\": \"customer_name\",\r\n            \"label\": \"Customer Name\",\r\n            \"fieldtype\": \"Data\",\r\n            \"width\": 180\r\n        },\r\n        {\r\n            \"fieldname\": \"grand_total\",\r\n            \"label\": \"Amount\",\r\n            \"fieldtype\": \"Currency\",\r\n            \"width\": 120\r\n        },\r\n        {\r\n            \"fieldname\": \"custom_auto_send_status\",\r\n            \"label\": \"Send Status\",\r\n            \"fieldtype\": \"Data\",\r\n            \"width\": 100\r\n        },\r\n        {\r\n            \"fieldname\": \"custom_scheduled_send_time\",\r\n            \"label\": \"Scheduled Send Time\",\r\n            \"fieldtype\": \"Datetime\",\r\n            \"width\": 160\r\n        },\r\n        {\r\n            \"fieldname\": \"custom_actual_send_time\",\r\n            \"label\": \"Actual Send Time\",\r\n            \"fieldtype\": \"Datetime\",\r\n            \"width\": 160\r\n        },\r\n        {\r\n            \"fieldname\": \"contact_email\",\r\n            \"label\": \"Email Sent To\",\r\n            \"fieldtype\": \"Data\",\r\n            \"width\": 180\r\n        }\r\n    ]\r\n\r\ndef get_data(filters):\r\n    \"\"\"Fetch the data based on filters\"\"\"\r\n    \r\n    conditions = [\"docstatus = 1\"]  # Only submitted invoices\r\n    \r\n    # Add status filter\r\n    if filters.get(\"status\"):\r\n        conditions.append(\"custom_auto_send_status = '\" + filters.get(\"status\") + \"'\")\r\n    else:\r\n        # By default, show only Sent and Failed (not blank/Scheduled)\r\n        conditions.append(\"custom_auto_send_status IN ('Sent', 'Failed')\")\r\n    \r\n    # Add date range filters\r\n    if filters.get(\"from_date\"):\r\n        conditions.append(\"custom_actual_send_time >= '\" + str(filters.get(\"from_date\")) + \"'\")\r\n    \r\n    if filters.get(\"to_date\"):\r\n        conditions.append(\"custom_actual_send_time <= '\" + str(filters.get(\"to_date\")) + \" 23:59:59'\")\r\n    \r\n    # Build the WHERE clause\r\n    where_clause = \" AND \".join(conditions)\r\n    \r\n    # Execute the query\r\n    data = frappe.db.sql(\"\"\"\r\n        SELECT \r\n            name,\r\n            posting_date,\r\n            customer,\r\n            customer_name,\r\n            grand_total,\r\n            custom_auto_send_status,\r\n            custom_scheduled_send_time,\r\n            custom_actual_send_time,\r\n            contact_email\r\n        FROM `tabSales Invoice`\r\n        WHERE {where_clause}\r\n        ORDER BY custom_actual_send_time DESC\r\n    \"\"\".replace(\"{where_clause}\", where_clause), as_dict=1)\r\n    \r\n    return data",
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "fl7jclqrke",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-15 13:36:59.545029",
        "modified": "2025-12-16 13:24:08.947822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "From Date",
        "fieldtype": "Date",
        "fieldname": "from_date",
        "mandatory": 0,
        "wildcard_filter": 0,
        "options": null,
        "default": null,
        "parent": "Sent Sales Invoices",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      },
      {
        "name": "fl7j7pmnt9",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-15 13:36:59.545029",
        "modified": "2025-12-16 13:24:08.947822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "label": "To Date",
        "fieldtype": "Date",
        "fieldname": "to_date",
        "mandatory": 0,
        "wildcard_filter": 0,
        "options": null,
        "default": null,
        "parent": "Sent Sales Invoices",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      },
      {
        "name": "fl7j6n0bk3",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-15 13:36:59.545029",
        "modified": "2025-12-16 13:24:08.947822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "label": "Status",
        "fieldtype": "Select",
        "fieldname": "status",
        "mandatory": 0,
        "wildcard_filter": 0,
        "options": "\nScheduled\nSent\nFailed",
        "default": null,
        "parent": "Sent Sales Invoices",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "fl7ja0436f",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-15 13:36:59.545029",
        "modified": "2025-12-16 13:24:08.947822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Accounts User",
        "parent": "Sent Sales Invoices",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "fl7jhg5l36",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-15 13:36:59.545029",
        "modified": "2025-12-16 13:24:08.947822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Accounts Manager",
        "parent": "Sent Sales Invoices",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "fl7jpfsne2",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-15 13:36:59.545029",
        "modified": "2025-12-16 13:24:08.947822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Sales User",
        "parent": "Sent Sales Invoices",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "fl7jvegl6q",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-15 13:36:59.545029",
        "modified": "2025-12-16 13:24:08.947822",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "System Manager",
        "parent": "Sent Sales Invoices",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Stock Status",
    "docstatus": 0,
    "report_name": "Stock Status",
    "ref_doctype": "Item",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Stock",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT\r\n  i.brand AS \"Brand:Link/Brand:120\",\r\n  i.item_code AS \"Item Code:Link/Item:150\",\r\n\r\n  (\r\n    -- Calculate Available using the now-filtered 'On Shelves' (b)\r\n    COALESCE(b.total_on_shelves, 0)\r\n    - COALESCE(oq.total_in_open_quotations, 0)\r\n    - COALESCE(soi.total_in_sales_orders, 0)\r\n  ) AS \"Available:Int:150\",\r\n  -- 'On Shelves' now only pulls from 'Stores - SURGI'\r\n  COALESCE(b.total_on_shelves, 0) AS \"On Shelves:Int:100\", \r\n  COALESCE(oq.total_in_open_quotations, 0) AS \"In Open Quotations:Int:120\",\r\n  COALESCE(soi.total_in_sales_orders, 0) AS \"In Sales Orders:Int:120\",\r\n\r\n  NULLIF(i.custom_competitive, 0) AS \"Competitive:Currency:120\",\r\n  NULLIF(i.custom_approval_only, 0) AS \"Approval Only:Currency:120\",\r\n  \r\n  -- Blemish Quantity\r\n  COALESCE(bl.total_in_blemish, 0) AS \"Blemish:Int:100\",\r\n  \r\n  -- Temperature Critical Checkmark\r\n  IF(i.custom_temperature_critical, '', '') AS \"Temperature:Data:100\"\r\nFROM `tabItem` i\r\n\r\n-- On Shelves (Bin) - Alias 'b' - *** CORRECTED TO 'Stores - SURGI' ONLY ***\r\nLEFT JOIN (\r\n  SELECT item_code, SUM(actual_qty) AS total_on_shelves\r\n  FROM `tabBin`\r\n  WHERE warehouse = 'Stores - SURGI' \r\n  GROUP BY item_code\r\n) b ON b.item_code = i.item_code\r\n\r\n-- Open Quotations - Alias 'oq'\r\nLEFT JOIN (\r\n  SELECT qi.item_code,\r\n         SUM(qi.stock_qty) AS total_in_open_quotations\r\n  FROM `tabQuotation Item` qi\r\n  INNER JOIN `tabQuotation` q\r\n    ON q.name = qi.parent\r\n    AND q.docstatus = 1\r\n    AND q.status = 'Open'\r\n    AND (q.valid_till IS NULL OR q.valid_till >= CURDATE())\r\n  GROUP BY qi.item_code\r\n) oq ON oq.item_code = i.item_code\r\n\r\n-- Sales Orders - Alias 'soi'\r\nLEFT JOIN (\r\n  SELECT soi.item_code,\r\n         SUM(soi.stock_qty) AS total_in_sales_orders\r\n  FROM `tabSales Order Item` soi\r\n  INNER JOIN `tabSales Order` so\r\n    ON so.name = soi.parent\r\n    AND so.docstatus = 1\r\n    AND so.status NOT IN ('Closed', 'Completed')\r\n  GROUP BY soi.item_code\r\n) soi ON soi.item_code = i.item_code\r\n\r\n-- Blemish Quantity - Alias 'bl'\r\nLEFT JOIN (\r\n  SELECT item_code, SUM(actual_qty) AS total_in_blemish\r\n  FROM `tabBin`\r\n  WHERE warehouse = 'Blemish - SURGI' \r\n  GROUP BY item_code\r\n) bl ON bl.item_code = i.item_code\r\n\r\nWHERE IFNULL(i.disabled, 0) = 0\r\n  AND (\r\n    -- The WHERE clause ensures we only show items with stock or open orders in any tracked warehouse\r\n    COALESCE(b.total_on_shelves, 0) <> 0\r\n    OR COALESCE(oq.total_in_open_quotations, 0) <> 0\r\n    OR COALESCE(soi.total_in_sales_orders, 0) <> 0\r\n    OR COALESCE(bl.total_in_blemish, 0) <> 0 \r\n  )\r\nORDER BY i.item_code;",
    "report_script": "frappe.query_reports[\"Stock Status\"] = {\n  formatter(value, row, column, data, default_formatter) {\n    const colKey = (column.fieldname || \"\").toLowerCase();\n\n    // --- Handle currency columns (blank if 0/null) ---\n    if ([\"competitive\", \"approval_only\"].includes(colKey)) {\n      const raw = data?.[column.fieldname] ?? value;\n      const n = Number(raw);\n      if (raw === null || raw === undefined || raw === \"\" || isNaN(n) || n === 0) {\n        value = \"\";\n      } else {\n        value = default_formatter(raw, row, column, data);\n      }\n    } else {\n      value = default_formatter(value, row, column, data);\n    }\n\n    // --- Center all columns except first two (Brand + Item Code) ---\n    const colIdx =\n      typeof column.colIndex === \"number\"\n        ? column.colIndex\n        : (column.id && column.id.match(/col-(\\d+)/))\n        ? parseInt(column.id.match(/col-(\\d+)/)[1])\n        : null;\n\n    const isFirstTwo =\n      colIdx !== null\n        ? colIdx <= 1\n        : [\"brand\", \"item_code\"].includes(colKey);\n\n    if (!isFirstTwo) {\n      return `<div style=\"text-align:center\">${value}</div>`;\n    }\n\n    return value; // leave first two columns default-aligned\n  }\n};\n",
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [],
    "roles": [
      {
        "name": "7l28p11v8t",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-10-17 09:45:17.594717",
        "modified": "2025-11-25 10:55:00.384153",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Item Manager",
        "parent": "Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "7l28k1397g",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-10-17 09:45:17.594717",
        "modified": "2025-11-25 10:55:00.384153",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Stock Manager",
        "parent": "Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "7l286tt92f",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-10-17 09:45:17.594717",
        "modified": "2025-11-25 10:55:00.384153",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Stock User",
        "parent": "Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "7l28cvlf59",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-10-17 09:45:17.594717",
        "modified": "2025-11-25 10:55:00.384153",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "Sales User",
        "parent": "Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "7l284cd9mt",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-10-17 09:45:17.594717",
        "modified": "2025-11-25 10:55:00.384153",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Purchase User",
        "parent": "Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "7l28vau2hr",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-10-17 09:45:17.594717",
        "modified": "2025-11-25 10:55:00.384153",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "role": "Maintenance User",
        "parent": "Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "7l284d24io",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-10-17 09:45:17.594717",
        "modified": "2025-11-25 10:55:00.384153",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 7,
        "role": "Accounts User",
        "parent": "Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "7l289c2hna",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-10-17 09:45:17.594717",
        "modified": "2025-11-25 10:55:00.384153",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 8,
        "role": "Manufacturing User",
        "parent": "Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "7l2887gdvg",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-10-17 09:45:17.594717",
        "modified": "2025-11-25 10:55:00.384153",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 9,
        "role": "Desk User",
        "parent": "Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Surgi General Ledger",
    "docstatus": 0,
    "report_name": "Surgi General Ledger",
    "ref_doctype": "GL Entry",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Accounts",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT\r\n    gle.posting_date AS posting_date,\r\n    CONCAT(gle.voucher_type, ' ', gle.voucher_no) AS description,\r\n    gle.debit AS debit,\r\n    gle.credit AS credit,\r\n    (gle.debit - gle.credit) AS amount\r\nFROM `tabGL Entry` gle\r\nWHERE\r\n    gle.is_cancelled = 0\r\n    AND gle.party_type = 'Customer'\r\n    AND gle.posting_date BETWEEN %(from_date)s AND %(to_date)s\r\n    AND (%(customer)s IS NULL OR gle.party = %(customer)s)\r\nORDER BY gle.posting_date ASC, gle.creation ASC",
    "report_script": "\r\n",
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "c0ihk8hpa3",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-01 11:20:11.298508",
        "modified": "2025-12-08 16:07:59.914809",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "Customer",
        "fieldtype": "Link",
        "fieldname": "customer",
        "mandatory": 1,
        "wildcard_filter": 0,
        "options": "Customer",
        "default": null,
        "parent": "Surgi General Ledger",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      },
      {
        "name": "4i35td8e2l",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-01 11:20:11.298508",
        "modified": "2025-12-08 16:07:59.914809",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "label": "From Date",
        "fieldtype": "Date",
        "fieldname": "from_date",
        "mandatory": 1,
        "wildcard_filter": 0,
        "options": null,
        "default": "",
        "parent": "Surgi General Ledger",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      },
      {
        "name": "c0ih4hhc8h",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-01 11:20:11.298508",
        "modified": "2025-12-08 16:07:59.914809",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "label": "To Date",
        "fieldtype": "Date",
        "fieldname": "to_date",
        "mandatory": 1,
        "wildcard_filter": 0,
        "options": null,
        "default": "",
        "parent": "Surgi General Ledger",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "c0ihccmoh1",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-01 11:20:11.298508",
        "modified": "2025-12-08 16:07:59.914809",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Accounts User",
        "parent": "Surgi General Ledger",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "c0ihcr9ple",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-01 11:20:11.298508",
        "modified": "2025-12-08 16:07:59.914809",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Accounts Manager",
        "parent": "Surgi General Ledger",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "c0ih4oti5c",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-01 11:20:11.298508",
        "modified": "2025-12-08 16:07:59.914809",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Auditor",
        "parent": "Surgi General Ledger",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "1jpk8ae8pj",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-01 11:20:11.298508",
        "modified": "2025-12-08 16:07:59.914809",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "System Manager",
        "parent": "Surgi General Ledger",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Warehouse Stock Status",
    "docstatus": 0,
    "report_name": "Warehouse Stock Status",
    "ref_doctype": "Item",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Stock",
    "report_type": "Query Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT\r\n  i.brand AS \"Brand:Link/Brand:120\",\r\n  i.item_code AS \"Item Code:Link/Item:150\",\r\n  -- NEW: Consolidate all location fields\r\n  CONCAT_WS(', ', \r\n    NULLIF(i.custom_item_location, ''),\r\n    NULLIF(i.custom_item_location_2, ''),\r\n    NULLIF(i.custom_item_location_3, ''),\r\n    NULLIF(i.custom_item_location_4, ''),\r\n    NULLIF(i.custom_item_location_5, ''),\r\n    NULLIF(i.custom_item_location_6, '')\r\n  ) AS \"Location:Data:200\",\r\n  (\r\n    -- Calculate Available using the now-filtered 'On Shelves' (b)\r\n    COALESCE(b.total_on_shelves, 0)\r\n    - COALESCE(oq.total_in_open_quotations, 0)\r\n    - COALESCE(soi.total_in_sales_orders, 0)\r\n  ) AS \"Available:Int:150\",\r\n  -- 'On Shelves' now only pulls from 'Stores - SURGI'\r\n  COALESCE(b.total_on_shelves, 0) AS \"On Shelves:Int:100\", \r\n  COALESCE(oq.total_in_open_quotations, 0) AS \"In Open Quotations:Int:120\",\r\n  COALESCE(soi.total_in_sales_orders, 0) AS \"In Sales Orders:Int:120\",\r\n  \r\n  -- Blemish Quantity\r\n  COALESCE(bl.total_in_blemish, 0) AS \"Blemish:Int:100\",\r\n  \r\n  -- Temperature Critical Checkmark\r\n  IF(i.custom_temperature_critical, '', '') AS \"Temperature:Data:100\"\r\nFROM `tabItem` i\r\n-- On Shelves (Bin) - Alias 'b' - *** CORRECTED TO 'Stores - SURGI' ONLY ***\r\nLEFT JOIN (\r\n  SELECT item_code, SUM(actual_qty) AS total_on_shelves\r\n  FROM `tabBin`\r\n  WHERE warehouse = 'Stores - SURGI' \r\n  GROUP BY item_code\r\n) b ON b.item_code = i.item_code\r\n-- Open Quotations - Alias 'oq'\r\nLEFT JOIN (\r\n  SELECT qi.item_code,\r\n         SUM(qi.stock_qty) AS total_in_open_quotations\r\n  FROM `tabQuotation Item` qi\r\n  INNER JOIN `tabQuotation` q\r\n    ON q.name = qi.parent\r\n    AND q.docstatus = 1\r\n    AND q.status = 'Open'\r\n    AND (q.valid_till IS NULL OR q.valid_till >= CURDATE())\r\n  GROUP BY qi.item_code\r\n) oq ON oq.item_code = i.item_code\r\n-- Sales Orders - Alias 'soi'\r\nLEFT JOIN (\r\n  SELECT soi.item_code,\r\n         SUM(soi.stock_qty) AS total_in_sales_orders\r\n  FROM `tabSales Order Item` soi\r\n  INNER JOIN `tabSales Order` so\r\n    ON so.name = soi.parent\r\n    AND so.docstatus = 1\r\n    AND so.status NOT IN ('Closed', 'Completed')\r\n  GROUP BY soi.item_code\r\n) soi ON soi.item_code = i.item_code\r\n-- Blemish Quantity - Alias 'bl'\r\nLEFT JOIN (\r\n  SELECT item_code, SUM(actual_qty) AS total_in_blemish\r\n  FROM `tabBin`\r\n  WHERE warehouse = 'Blemish - SURGI' \r\n  GROUP BY item_code\r\n) bl ON bl.item_code = i.item_code\r\nWHERE IFNULL(i.disabled, 0) = 0\r\n  AND (%(item_code)s = '' OR %(item_code)s IS NULL OR i.item_code = %(item_code)s)\r\n  AND (\r\n    -- The WHERE clause ensures we only show items with stock or open orders in any tracked warehouse\r\n    COALESCE(b.total_on_shelves, 0) <> 0\r\n    OR COALESCE(oq.total_in_open_quotations, 0) <> 0\r\n    OR COALESCE(soi.total_in_sales_orders, 0) <> 0\r\n    OR COALESCE(bl.total_in_blemish, 0) <> 0 \r\n  )\r\nORDER BY i.item_code;",
    "report_script": "frappe.query_reports[\"Stock Status\"] = {\r\n  formatter(value, row, column, data, default_formatter) {\r\n    const colKey = (column.fieldname || \"\").toLowerCase();\r\n    \r\n    value = default_formatter(value, row, column, data);\r\n    \r\n    // --- Center all columns except first two (Brand + Item Code) ---\r\n    const colIdx =\r\n      typeof column.colIndex === \"number\"\r\n        ? column.colIndex\r\n        : (column.id && column.id.match(/col-(\\d+)/))\r\n        ? parseInt(column.id.match(/col-(\\d+)/)[1])\r\n        : null;\r\n    const isFirstTwo =\r\n      colIdx !== null\r\n        ? colIdx <= 1\r\n        : [\"brand\", \"item_code\"].includes(colKey);\r\n    if (!isFirstTwo) {\r\n      return `<div style=\"text-align:center\">${value}</div>`;\r\n    }\r\n    return value; // leave first two columns default-aligned\r\n  }\r\n};",
    "javascript": null,
    "json": null,
    "doctype": "Report",
    "filters": [
      {
        "name": "522j6o2d4c",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "label": "Item",
        "fieldtype": "Link",
        "fieldname": "item_code",
        "mandatory": 0,
        "wildcard_filter": 0,
        "options": "Item",
        "default": "1951B",
        "parent": "Warehouse Stock Status",
        "parentfield": "filters",
        "parenttype": "Report",
        "doctype": "Report Filter"
      }
    ],
    "roles": [
      {
        "name": "522joe4nln",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Desk User",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "522j6433ka",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Stock Manager",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "522jc43lu1",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Item Manager",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "522j9i8lv2",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "Manufacturing User",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "522j7opbk0",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Purchase User",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "522jt11i8o",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 6,
        "role": "Accounts User",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "522jo3n6tu",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 7,
        "role": "Stock User",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "522jau42fb",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 8,
        "role": "Maintenance User",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "522jabcnuv",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 9,
        "role": "Sales User",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "522jf5g2cn",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-12-18 12:04:08.291975",
        "modified": "2025-12-18 12:04:26.762210",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 10,
        "role": "System Manager",
        "parent": "Warehouse Stock Status",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Surgi Stock Balance",
    "docstatus": 0,
    "report_name": "Surgi Stock Balance",
    "ref_doctype": "Stock Ledger Entry",
    "reference_report": "Stock Balance",
    "is_standard": "Yes",
    "module": "Stock",
    "report_type": "Custom Report",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": null,
    "report_script": null,
    "javascript": null,
    "json": "{\"columns\":[{\"fieldname\":\"item_code\",\"fieldtype\":\"Link\",\"label\":\"Item\",\"options\":\"Item\",\"width\":100,\"id\":\"item_code\",\"name\":\"Item\",\"editable\":false,\"compareValue\":null},{\"fieldname\":\"item_name\",\"label\":\"Item Name\",\"width\":150,\"id\":\"item_name\",\"name\":\"Item Name\",\"editable\":false,\"compareValue\":null},{\"fieldname\":\"warehouse\",\"fieldtype\":\"Link\",\"label\":\"Warehouse\",\"options\":\"Warehouse\",\"width\":100,\"id\":\"warehouse\",\"name\":\"Warehouse\",\"editable\":false,\"compareValue\":null},{\"fieldname\":\"stock_uom\",\"fieldtype\":\"Link\",\"label\":\"Stock UOM\",\"options\":\"UOM\",\"width\":90,\"id\":\"stock_uom\",\"name\":\"Stock UOM\",\"editable\":false,\"compareValue\":null},{\"convertible\":\"qty\",\"fieldname\":\"bal_qty\",\"fieldtype\":\"Float\",\"label\":\"Balance Qty\",\"width\":100,\"id\":\"bal_qty\",\"name\":\"Balance Qty\",\"editable\":false,\"compareValue\":null},{\"convertible\":\"qty\",\"fieldname\":\"in_qty\",\"fieldtype\":\"Float\",\"label\":\"In Qty\",\"width\":80,\"id\":\"in_qty\",\"name\":\"In Qty\",\"editable\":false,\"compareValue\":null},{\"convertible\":\"qty\",\"fieldname\":\"out_qty\",\"fieldtype\":\"Float\",\"label\":\"Out Qty\",\"width\":80,\"id\":\"out_qty\",\"name\":\"Out Qty\",\"editable\":false,\"compareValue\":null},{\"convertible\":\"rate\",\"fieldname\":\"val_rate\",\"fieldtype\":\"Currency\",\"label\":\"Valuation Rate\",\"options\":\"Company:company:default_currency\",\"width\":90,\"id\":\"val_rate\",\"name\":\"Valuation Rate\",\"editable\":false,\"compareValue\":null},{\"convertible\":\"qty\",\"fieldname\":\"reserved_stock\",\"fieldtype\":\"Float\",\"label\":\"Reserved Stock\",\"width\":80,\"id\":\"reserved_stock\",\"name\":\"Reserved Stock\",\"editable\":false,\"compareValue\":null},{\"fieldname\":\"company\",\"fieldtype\":\"Link\",\"label\":\"Company\",\"options\":\"Company\",\"width\":100,\"id\":\"company\",\"name\":\"Company\",\"editable\":false,\"compareValue\":null}],\"filters\":{\"company\":\"SurgiShop\",\"from_date\":\"2025-09-13\",\"to_date\":\"2025-10-13\",\"item_code\":[\"1951B\"],\"warehouse\":[],\"valuation_field_type\":\"Currency\"}}",
    "doctype": "Report",
    "filters": [],
    "roles": [
      {
        "name": "bbn9enoqu6",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-10-13 11:44:10.507762",
        "modified": "2025-10-13 11:44:10.507762",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Stock User",
        "parent": "Surgi Stock Balance",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "bbn9bafuhn",
        "owner": "gary.starr@surgishop.com",
        "creation": "2025-10-13 11:44:10.508144",
        "modified": "2025-10-13 11:44:10.508144",
        "modified_by": "gary.starr@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Accounts Manager",
        "parent": "Surgi Stock Balance",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  },
  {
    "name": "Temp Report",
    "docstatus": 0,
    "report_name": "Temp Report",
    "ref_doctype": "Sales Order",
    "reference_report": null,
    "is_standard": "Yes",
    "module": "Selling",
    "report_type": "Report Builder",
    "letter_head": "SurgiShop",
    "add_total_row": 0,
    "disabled": 0,
    "prepared_report": 0,
    "add_translate_data": 0,
    "timeout": 0,
    "query": "SELECT\n    si.posting_date AS \"Date:Date:100\",\n    si.name AS \"Invoice:Link/Sales Invoice:150\",\n    sii.item_code AS \"Item:Link/Item:120\",\n    sii.qty AS \"Qty:Float:80\",\n    /* Revenue: Net amount in company currency (tax exclusive) */\n    sii.base_net_amount AS \"Revenue:Currency:120\",\n    /* COGS: Valuation rate * Qty */\n    (sii.valuation_rate * sii.stock_qty) AS \"COGS:Currency:120\",\n    /* Profit: Revenue - COGS */\n    (sii.base_net_amount - (sii.valuation_rate * sii.stock_qty)) AS \"Profit:Currency:120\",\n    /* GPM: (Profit / Revenue) * 100 */\n    CASE WHEN sii.base_net_amount != 0 THEN\n        ((sii.base_net_amount - (sii.valuation_rate * sii.stock_qty)) / sii.base_net_amount) * 100\n    ELSE\n        0\n    END AS \"GPM:Percent:100\"\nFROM\n    `tabSales Invoice` si\n    JOIN `tabSales Invoice Item` sii ON sii.parent = si.name\nWHERE\n    si.docstatus = 1  /* Only submitted invoices */\n    AND si.posting_date BETWEEN %(from_date)s AND %(to_date)s\nORDER BY\n    si.posting_date DESC",
    "report_script": null,
    "javascript": null,
    "json": "{}",
    "doctype": "Report",
    "filters": [],
    "roles": [
      {
        "name": "brl4oeg65h",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-12-11 23:19:41.272537",
        "modified": "2025-12-11 23:23:42.914836",
        "modified_by": "Arthur.Borges@surgishop.com",
        "docstatus": 0,
        "idx": 1,
        "role": "Accounts User",
        "parent": "Temp Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "brl4sblsfu",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-12-11 23:19:41.272537",
        "modified": "2025-12-11 23:23:42.914836",
        "modified_by": "Arthur.Borges@surgishop.com",
        "docstatus": 0,
        "idx": 2,
        "role": "Maintenance User",
        "parent": "Temp Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "brl4vmm7mi",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-12-11 23:19:41.272537",
        "modified": "2025-12-11 23:23:42.914836",
        "modified_by": "Arthur.Borges@surgishop.com",
        "docstatus": 0,
        "idx": 3,
        "role": "Sales User",
        "parent": "Temp Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "brl4t7ifeh",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-12-11 23:19:41.272537",
        "modified": "2025-12-11 23:23:42.914836",
        "modified_by": "Arthur.Borges@surgishop.com",
        "docstatus": 0,
        "idx": 4,
        "role": "Stock User",
        "parent": "Temp Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      },
      {
        "name": "brl43hkuhr",
        "owner": "Arthur.Borges@surgishop.com",
        "creation": "2025-12-11 23:19:41.272537",
        "modified": "2025-12-11 23:23:42.914836",
        "modified_by": "Arthur.Borges@surgishop.com",
        "docstatus": 0,
        "idx": 5,
        "role": "Sales Manager",
        "parent": "Temp Report",
        "parentfield": "roles",
        "parenttype": "Report",
        "doctype": "Has Role"
      }
    ],
    "columns": []
  }
]